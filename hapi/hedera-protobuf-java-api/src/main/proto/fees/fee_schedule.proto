/**
 * # Fee Schedule
 * Defines a schedule of fees for every type of transaction, as specified by
 * HIP-1261. Fee values are always positive integers and specified
 * as tinycents (10<sup>-10</sup> of USD).
 */
syntax = "proto3";

package org.hiero.hapi.support.fees;

option java_package = "org.hiero.hapi.support.fees.protoc";
// <<<pbj.java_package = "org.hiero.hapi.support.fees">>> This comment is special code for setting PBJ Compiler java package
option java_multiple_files = true;

import "services/basic_types.proto";

/**
 * Fees are looked up from the schedule. The fee schedule must
 * contain an entry for every supported Hedera transaction type, as well
 * as settings for the Node fee, Network Fee, and unreadable
 * transactions.
 */
message FeeSchedule {
  NodeFee node_fee = 1;
  NetworkFee network_fee_ratio = 2;
  UnreadableTransactionFee unreadable_transaction_fee = 3;
  repeated ExtraFeeDefinition defined_extras = 4;
  repeated Service service_fees = 5;
}

enum Extra {
    Signatures=0;
    Bytes=1;
    Keys=2;
    TokenTypes=3;
    NFTSerials=4;
    Accounts=5;
    StandardFungibleTokens=6;
    StandardNonFungibleTokens=7;
    CustomFeeFungibleTokens=8;
    CustomFeeNonFungibleTokens=9;
    CreatedAutoAssociations=10;
    CreatedAccounts=11;
    CustomFee=12;
    Gas=13;
    Allowances=14;
    Airdrops=15;
}
message ExtraFeeDefinition {
  Extra name = 1;
  // USD in tinycents (10^-10 USD)
  uint64 fee = 2;
}
message NodeFee {
  // USD in tinycents (10^-10 USD)
  uint64 base_fee = 1;
  repeated ExtraFeeReference extras = 2;
}
message NetworkFee {
  uint32 multiplier = 1;
}

message Service {
  string name = 1;
  repeated ServiceFee transactions = 2;
  repeated ServiceFee queries = 3;
}

message ServiceFee {
  proto.HederaFunctionality name = 1;
  // USD in tinycents (10^-10 USD)
  uint64 base_fee = 2;
  repeated ExtraFeeReference extras = 3;
}
message ExtraFeeReference {
  Extra name = 1;
  // must be zero or positive
  uint32 includedCount = 2;
}
message UnreadableTransactionFee {
  // USD in tinycents (10^-10 USD)
  uint64 fee_value = 1;
}

